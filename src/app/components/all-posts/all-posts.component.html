<div class="container">
  <app-add-post></app-add-post>

  <h1>All Posts</h1>

  <div *ngFor="let post of posts" class="post-container">
    <div class="user-info">
      <div class="user-avatar">{{ post.user.username.charAt(0) }}</div>
      <div class="user-details">
        <p>{{ post.user.username }}</p>
        <p>({{ post.user.email }})</p>
      </div>
    </div>

    <div class="post-form">
      <label>{{ post.descpost }}</label>

      <div *ngIf="post.imagepost" class="mt-3">
        <img [src]="'http://localhost/hadilprojet/' + post.imagepost" class="img-fluid" alt="Post Image">
      </div>

      <div class="form-group">
        <span class="date-creation">{{ formatDate(post.datecreation) }}</span>
      </div>
    </div>

    <button type="button" class="comment-btn" (click)="openCommentForm(post.idPost)">
      <i class="fas fa-comment"></i> 
    </button>

    <div class="likes-dislikes-container">
      <button type="button" (click)="incrementLikes(post)" class="like-btn">
        <i class="fa fa-thumbs-up"></i> Like {{ post.likes }}
      </button>
      <button type="button" (click)="incrementDislikes(post)" class="dislike-btn">
        <i class="fa fa-thumbs-down"></i> Dislike {{ post.dislikes }}
      </button>
    </div>
  </div>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
